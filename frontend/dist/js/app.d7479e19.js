(function(e){function t(t){for(var s,n,i=t[0],u=t[1],c=t[2],d=0,h=[];d<i.length;d++)n=i[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&h.push(o[n][0]),o[n]=0;for(s in u)Object.prototype.hasOwnProperty.call(u,s)&&(e[s]=u[s]);l&&l(t);while(h.length)h.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],s=!0,i=1;i<r.length;i++){var u=r[i];0!==o[u]&&(s=!1)}s&&(a.splice(t--,1),e=n(n.s=r[0]))}return e}var s={},o={app:0},a=[];function n(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";var s=r("85ec"),o=r.n(s);o.a},"1cd2":function(e,t,r){},"226b":function(e,t,r){"use strict";var s=r("cbfe"),o=r.n(s);o.a},"28cf":function(e,t,r){},"37bf":function(e,t,r){e.exports=r.p+"img/logotitle_2.dfa3e37d.svg"},"3f3d":function(e,t,r){"use strict";var s=r("caa7"),o=r.n(s);o.a},4718:function(e,t,r){},"4c3f":function(e,t,r){"use strict";var s=r("5fe0"),o=r.n(s);o.a},"56d7":function(e,t,r){"use strict";r.r(t);r("b0c0"),r("e260"),r("e6cf"),r("cca6"),r("a79d");var s=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],n={name:"app",components:{}},i=n,u=(r("034f"),r("2877")),c=Object(u["a"])(i,o,a,!1,null,null,null),l=c.exports,d=r("5f5b"),h=(r("f9e3"),r("2dd8"),r("45fc"),r("8c4f")),f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login-card"},[s("b-card",{staticClass:"mb-3 bg- text-primary",staticStyle:{padding:"20px","min-width":"350px","max-width":"350px"},attrs:{title:e.cardTitle,"img-src":r("37bf"),"img-alt":"Image","img-topb":""}},[e.loginAlert?s("div",[s("b-alert",{attrs:{show:"",variant:"danger"}},[e._v(e._s(e.loginAlert))])],1):e._e(),e.registerSelected?s("div",[s("Register")],1):s("div",[s("Login")],1),s("br"),s("button",{staticClass:"btn btn-outline-primary",attrs:{type:"button",variant:"light"},on:{click:e.toggleLogin}},[e._v(e._s(e.switchButtonText))])])],1)},m=[],p=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-input",{attrs:{id:"input-email",type:"email",required:"",placeholder:"Email"},model:{value:e.credentials.email,callback:function(t){e.$set(e.credentials,"email",t)},expression:"credentials.email"}}),r("br"),r("b-form-input",{attrs:{id:"input-password",type:"password",required:"",placeholder:"Password"},model:{value:e.credentials.password,callback:function(t){e.$set(e.credentials,"password",t)},expression:"credentials.password"}}),r("br"),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)},v=[],b={name:"Login",data:function(){return{credentials:{email:"",password:""}}},methods:{onSubmit:function(e){e.preventDefault(),this.login()},login:function(){var e=this,t=this.credentials.email,r=this.credentials.password;this.$store.dispatch("login",{email:t,password:r}).then((function(){return e.$router.push("/")})).catch((function(t){400==t.response.status?e.$parent.loginAlert="Wrong Username/Password":e.$parent.loginAlert=t}))}}},g=b,w=Object(u["a"])(g,p,v,!1,null,null,null),_=w.exports,y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-input",{attrs:{id:"input-name",required:"",placeholder:"Name"},model:{value:e.newUser.name,callback:function(t){e.$set(e.newUser,"name",t)},expression:"newUser.name"}}),r("br"),r("b-form-input",{attrs:{id:"input-email",type:"email",state:e.check_error("email"),required:"",placeholder:"Email"},on:{change:function(t){e.errors.email=null}},model:{value:e.newUser.email,callback:function(t){e.$set(e.newUser,"email",t)},expression:"newUser.email"}}),r("b-form-invalid-feedback",{attrs:{id:"email-error"}},[e._v(e._s(e.get_error("email")))]),r("br"),r("v-select",{attrs:{options:e.schools,label:"name",placeholder:" School",solo:""},on:{input:e.setSchool}}),r("br"),r("b-form-input",{attrs:{id:"input-password",type:"password",required:"",placeholder:"Password"},model:{value:e.newUser.password,callback:function(t){e.$set(e.newUser,"password",t)},expression:"newUser.password"}}),r("br"),r("b-button",{attrs:{type:"submit",variant:"light"}},[e._v("Submit")])],1)],1)},C=[],S=(r("d3b7"),r("bc3a")),P=r.n(S),x={name:"Register",data:function(){return{schools:[],newUser:{name:"",email:"",password:"",school_id:0},errors:{}}},mounted:function(){this.loadSchools()},methods:{check_error:function(e){return!this.errors[e]&&null},get_error:function(e){return"".concat(this.errors[e])},setSchool:function(e){this.newUser.school_id=e.id},onSubmit:function(e){e.preventDefault(),this.register()},loadSchools:function(){var e=this;new Promise((function(t,r){e.status="loading",P()({url:"/schools",method:"GET"}).then((function(r){e.schools=r.data,e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},register:function(){var e=this,t=this.newUser;this.$store.dispatch("register",t).then((function(){return e.$router.push("/")})).catch((function(t){for(var r in e.errors=t.response.data,e.errors)console.log("".concat(e.errors[r]))}))}}},k=x,R=Object(u["a"])(k,y,C,!1,null,null,null),O=R.exports,N={name:"LoginPanel",components:{Login:_,Register:O},data:function(){return{registerSelected:!1,loginAlert:""}},methods:{toggleLogin:function(){this.loginAlert="",this.registerSelected=!this.registerSelected}},computed:{cardTitle:function(){return this.registerSelected?"Register":"Login"},switchButtonText:function(){return this.registerSelected?"Login":"Register"}}},T=N,D=(r("d237"),Object(u["a"])(T,f,m,!1,null,"27178a8a",null)),$=D.exports,E=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Navbar"),s("div",[s("b-jumbotron",{scopedSlots:e._u([{key:"header",fn:function(){return[s("b-img",{attrs:{src:r("37bf"),width:"600%",height:"auto",alt:"Fluid-grow image"}})]},proxy:!0},{key:"lead",fn:function(){return[e._v(" Your professors. Your choice. ")]},proxy:!0}])},[s("Search"),s("hr",{staticClass:"my-4"}),s("p",[e._v(" Take our quiz to find your perfect professor here: ")]),s("b-button",{attrs:{href:"#",disabled:"",size:"lg",variant:"primary"}},[e._v("To the quiz >>")])],1)],1),s("div",{staticClass:"container-fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"card",staticStyle:{}},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v("Learn More about ProfessOrNot")]),s("p",{staticClass:"card-text"},[e._v("Learn more about our team and our misson here.")]),s("b-button",{attrs:{href:"#",disabled:"",size:"lg",variant:"primary"}},[e._v("Our about page >>")])],1)])]),s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"card"},[s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v("Need More help?")]),s("p",{staticClass:"card-text"},[e._v("Contact us if you need more help with our website.")]),s("b-button",{attrs:{href:"#",disabled:"",size:"lg",variant:"primary"}},[e._v("Contact Us >>")])],1)])])])])],1)},A=[],j=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("b-navbar",{attrs:{toggleable:"lg",type:"dark",variant:"primary",fixed:"top"}},[s("div",{staticClass:"container"},[s("a",{staticClass:"navbar-brand",attrs:{href:"/"}},[s("img",{attrs:{src:r("ca33"),width:"300",alt:"bb"}})]),s("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),s("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[s("b-navbar-nav",{staticClass:"ml-auto"},[s("b-nav-item-dropdown",{attrs:{right:""},scopedSlots:e._u([{key:"button-content",fn:function(){return[e._v(e._s(e.getUser.name))]},proxy:!0}])},[s("b-dropdown-item",{directives:[{name:"b-modal",rawName:"v-b-modal.my-modal",modifiers:{"my-modal":!0}}]},[e._v("Profile")]),s("b-dropdown-item",{on:{click:e.logout}},[e._v("Logout")])],1)],1)],1)],1)]),s("Profile")],1)},L=[],I=(r("a4d3"),r("4de4"),r("4160"),r("e439"),r("dbb4"),r("b64b"),r("159b"),r("2fa7")),U=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{attrs:{id:"profile-modal",title:"Profile Settings",hideFooter:""},on:{hidden:e.clear,show:e.show}},[r("b-form-group",{attrs:{label:"Name"}},[r("b-form-input",{attrs:{id:"user-name",type:"text",required:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),r("b-form",{on:{submit:e.handleSubmit}},[r("b-form-group",{attrs:{label:"Email Address"}},[r("b-form-input",{attrs:{id:"user-email",type:"email",state:e.check_error("email"),required:""},on:{change:function(t){e.errors.email=null}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),r("b-form-invalid-feedback",{attrs:{id:"email-error"}},[e._v(e._s(e.get_error("email")))])],1),r("b-form-group",{attrs:{label:"New Password"}},[r("b-form-input",{attrs:{id:"user-password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),r("b-form-group",{attrs:{label:"School"}},[r("v-select",{attrs:{options:e.schools,label:"name",clearable:!1,placeholder:e.school.name},on:{input:e.setSchool}})],1),r("div",[r("b-button",{attrs:{type:"submit",block:"",variant:"outline-primary"}},[e._v("Update Profile")])],1)],1)],1)],1)},M=[],q={name:"Profile",data:function(){return{schools:[],changes:{},errors:{}}},computed:{email:{get:function(){return this.$store.getters.getUser.email},set:function(e){this.changes.email=e}},name:{get:function(){return this.$store.getters.getUser.name},set:function(e){this.changes.name=e}},school:{get:function(){return this.$store.getters.getUser.school}},password:{get:function(){return""},set:function(e){e.length>0?this.changes.password=e:delete this.changes.password}}},methods:{show:function(){this.loadSchools()},loadSchools:function(){var e=this;new Promise((function(t,r){e.status="loading",P()({url:"/schools",method:"GET"}).then((function(r){e.schools=r.data,e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},setSchool:function(e){this.changes.school_id=e.id},check_error:function(e){return!this.errors[e]&&null},get_error:function(e){return"".concat(this.errors[e])},handleSubmit:function(e){e.preventDefault(),this.update_user()},update_user:function(){var e=this;this.$store.dispatch("update_user",this.changes).then((function(){e.$bvModal.hide("profile-modal"),e.clear()})).catch((function(t){e.errors=t.response.data}))},clear:function(){this.changes={},this.errors={}}},props:{}},B=q,F=Object(u["a"])(B,U,M,!1,null,null,null),z=F.exports,G=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:e.text,expression:"text"}],attrs:{id:"search-bar",type:"text",required:"",placeholder:"Search Courses/Professors",autocomplete:"off"},domProps:{value:e.text},on:{input:[function(t){t.target.composing||(e.text=t.target.value)},e.searchInputChanged],keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.openNewTypedText()}}}),e._l(e.filteredList,(function(t,s){return r("li",{key:s,attrs:{id:"list"}},["COURSE"===t.type?r("div",[r("router-link",{attrs:{to:{name:"course",params:{id:t.id}}}},[r("b-button",{attrs:{id:"button",squared:"",variant:"light"}},[e._v(e._s(t.name))])],1)],1):"PROFESSOR"===t.type?r("div",[r("router-link",{attrs:{to:{name:"professor",params:{id:t.id}}}},[r("b-button",{attrs:{id:"button",squared:"",variant:"light"}},[e._v(e._s(t.name))])],1)],1):r("div",[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.new-course-prof-modal",modifiers:{"new-course-prof-modal":!0}}],attrs:{id:"button",squared:"",variant:"light"},on:{click:function(t){return e.openNewTypedText()}}},[e._v('Create New: "'+e._s(t.name)+'"')])],1)])})),r("NewCourseOrProf",{attrs:{enteredText:e.text}})],2)},Y=[],H=(r("caad"),r("2532"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{attrs:{id:"new-course-prof-modal",title:"Add New Professor/Course?","ok-title":"Next",hideFooter:!0},on:{show:e.handleShow,hide:e.handleHide}},[r("h1",{attrs:{id:"messageTitle"}},[e._v(' You Searched: "'+e._s(this.enteredText)+'" ')]),r("h2",{attrs:{id:"message"}},[e._v(" Such A Professor Or Class Doesn't Exist. ")]),r("h2",{attrs:{id:"message"}},[e._v(" Would You Like To Add It? ")]),r("b-button",{attrs:{variant:"outline-primary",id:"new-prof-button"},on:{click:e.handleNewProfessor}},[e._v(' New Professor "'+e._s(this.enteredText)+'" ')]),r("b-button",{attrs:{variant:"outline-primary",id:"new-course-button"},on:{click:e.handleNewCourse}},[e._v(' New Course "'+e._s(this.enteredText)+'" ')])],1)],1)}),W=[],J=(r("4d63"),r("ac1f"),r("25f0"),{name:"NewCourseOrProf",data:function(){return{}},computed:{},methods:{handleNewCourse:function(){var e=this,t=new RegExp("^[A-Z]{3}[A-Z]?[1-9][0-9]{2}$");t.test(this.enteredText)?new Promise((function(t,r){e.status="loading";var s={name:e.enteredText};P()({url:"/courses",data:s,method:"POST"}).then((function(r){console.log(r),e.status="success";var s=r.data.id;t(r),He.push({name:"course",params:{courseId:s}})})).catch((function(t){console.log(t),e.status="error",r(t)}))})):(this.closeModal(),this.$bvToast.toast("Entered Course Name Must Have Three Or Four Uppercase Letters + Three Digits",{title:"Invalid Course Name",variant:"warning",solid:!0,toaster:"b-toaster-top-full"}))},handleNewProfessor:function(){var e=this;new Promise((function(t,r){e.status="loading";var s={name:e.enteredText};P()({url:"/professors",data:s,method:"POST"}).then((function(r){console.log(r),e.status="success";var s=r.data.id;He.push({name:"professor",params:{profId:s}}),t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},handleShow:function(){this.resetData()},handleHide:function(){},resetData:function(){},closeModal:function(){this.$bvModal.hide("new-course-prof-modal")},displayReviewModal:function(){}},props:{ModalPlugin:d["a"],enteredText:{type:String,default:""}},components:{}}),Z=J,K=(r("ec33"),Object(u["a"])(Z,H,W,!1,null,"ce3f158c",null)),Q=K.exports,V={name:"Search",data:function(){return{previousSearchText:"",text:"",searchArray:[],backend_query_length_threshold:2,newProfOrCourseDefaultID:0}},methods:{openNewTypedText:function(){var e=0;for(e=0;e<this.filteredList.length;e++)this.text.toLowerCase()===this.filteredList[e].name.toLowerCase()&&("PROFESSOR"===this.filteredList[e].type&&this.filteredList[e].id!=this.newProfOrCourseDefaultID?He.push({name:"professor",params:{id:this.filteredList[e].id}}):"COURSE"===this.filteredList[e].type&&this.filteredList[e].id!=this.newProfOrCourseDefaultID&&He.push({name:"course",params:{id:this.filteredList[e].id}}));this.$bvModal.show("new-course-prof-modal")},searchInputChanged:function(){if(this.text.length==this.backend_query_length_threshold&&this.text.length>=this.previousSearchText.length?this.getSearchFromBackend():this.text.length<=this.backend_query_length_threshold&&this.text.length<this.previousSearchText.length&&(this.searchArray=[]),this.previousSearchText=this.text,0!=this.searchArray.length){var e=0,t=!1;for(e=0;e<this.searchArray.length-1;e++)if(this.searchArray[e].name.toLowerCase()===this.text.toLowerCase()){t=!0;break}this.searchArray[this.searchArray.length-1].name=1==t?"":this.text}},getSearchFromBackend:function(){var e=this;new Promise((function(t,r){e.status="loading";var s={filter:e.text};P()({url:"/search/"+e.text,data:s,method:"GET"}).then((function(r){console.log(r),e.searchArray=r.data,e.searchArray.push({id:e.newProfOrCourseDefaultID,name:e.text,type:"USER_ENTERED_INPUT"}),e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))}},computed:{filteredList:function(){var e=this,t=this.searchArray.filter((function(t){return t.name.toLowerCase().includes(e.text.toLowerCase())}));return t}},beforeMount:function(){this.text="",this.previousSearchText=""},components:{NewCourseOrProf:Q}},X=V,ee=(r("226b"),Object(u["a"])(X,G,Y,!1,null,"9a873dd2",null)),te=ee.exports,re=r("2f62");function se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?se(r,!0).forEach((function(t){Object(I["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):se(r).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ae={name:"Navbar",components:{Profile:z},methods:{logout:function(){var e=this;this.$store.dispatch("logout").then((function(){return e.$router.push("/login")})).catch((function(e){return alert(e.response)}))}},props:{showSearchBar:Boolean},computed:oe({},Object(re["b"])(["getUser"]))},ne=ae,ie=(r("3f3d"),Object(u["a"])(ne,j,L,!1,null,"9a4f25dc",null)),ue=ie.exports,ce={name:"Main",components:{Navbar:ue,Search:te},data:function(){return{}},methods:{},computed:{}},le=ce,de=(r("4c3f"),Object(u["a"])(le,E,A,!1,null,"8a371d4e",null)),he=de.exports,fe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Navbar"),r("div",{staticClass:"jumbotron jumbotron-fluid"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"display-4"},[r("h1",{staticClass:"professorTitle"},[r("b",[e._v(" Prof. "+e._s(null!=this.professor?this.professor.name:""))])])]),r("p",{staticClass:"lead"})])]),r("div",{staticClass:"container-fluid"},[r("b-row",[r("b-col",{attrs:{cols:"8"}},[r("h2",[e._v("Average Rating: "+e._s(this.professor.avg_rating)+" / 5")])]),r("b-col",{attrs:{cols:"4"}},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.review-modal",modifiers:{"review-modal":!0}}],attrs:{pill:"",variant:"primary",size:"lg",align:"right"}},[r("b",[e._v(" Add Review ")])])],1)],1)],1),0==this.professorCourses.length&&this.loadedData?r("div",[r("h1",[e._v(" No Reviews Have Been Created. ")]),r("h1",[e._v(" Would You Like To "),r("div",{staticClass:"makeNewReview",on:{click:e.displayReviewModal}},[e._v("Make One?")])])]):e._e(),0!=this.professorCourses.length&&this.loadedData?r("b-container",{staticClass:"professorInfoBody"},[r("b-row"),r("div",{directives:[{name:"show",rawName:"v-show",value:0!=this.professorReviews.length,expression:"this.professorReviews.length != 0"}]},[r("h2",{attrs:{align:"left"}},[e._v(" Reviews: ")]),e._l(this.professorReviews,(function(e){return r("Review",{key:e.id,attrs:{review:e,hideProfessorName:""}})}))],2)],1):e._e(),r("CreateReview",{attrs:{professorDisabled:"",propProfessor:e.professor},on:{"add-new-review":e.addNewReview}})],1)},me=[],pe=(r("0d03"),r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("b-modal",{attrs:{id:"review-modal",title:"Add Class Review","ok-title":"Next",hideFooter:!0},on:{hide:e.closeModal,show:e.show}},[r("b-form",{on:{submit:e.submit}},[r("label",[e._v("Professor's Name")]),r("v-select",{attrs:{options:e.professors,label:"name",clearable:!1,taggable:"",disabled:e.professorDisabled,value:e.propProfessor},on:{input:e.setProfessor,"option:created":e.createProfessor}}),r("label",[e._v("Course Name (Three or Four Uppercase Letters + Three Digits)")]),r("v-select",{attrs:{options:e.courses,label:"name",clearable:!1,taggable:"",disabled:e.courseDisabled,value:e.propCourse},on:{input:e.setCourse,"option:created":e.createCourse}}),r("b-form-group",{attrs:{label:"Ranking"}},[r("StarRating",{attrs:{"star-size":30},model:{value:e.new_review.rating,callback:function(t){e.$set(e.new_review,"rating",t)},expression:"new_review.rating"}})],1),r("br"),r("b-form-group",{attrs:{label:"Enter Comments"}},[r("b-form-textarea",{attrs:{id:"comment-textarea",autocomplete:"off",type:"text",placeholder:"Enter comments..."},model:{value:e.new_review.comment,callback:function(t){e.$set(e.new_review,"comment",t)},expression:"new_review.comment"}})],1),r("div",{staticClass:"submitButtonRow"},[r("b-button",{staticClass:"submitButton",attrs:{type:"submit",variant:"primary",pill:""}},[e._v("Finish")])],1)],1)],1)],1)}),ve=[],be=r("c1da"),ge=r.n(be),we={name:"CreateReview",data:function(){return{status:"",professors:[],courses:[],new_review:{professor_id:0,course_id:0,rating:0,comment:""}}},computed:{professorDisabled:function(){return null!=this.propProfessor},courseDisabled:function(){return null!=this.propCourse}},methods:{show:function(){this.resetModal(),null!=this.propProfessor?(this.new_review.professor_id=this.propProfessor.id,this.loadCourses()):null!=this.propCourse?(this.new_review.course_id=this.propCourse.id,this.loadProfessors()):(this.loadCourses(),this.loadProfessors())},submit:function(e){e.preventDefault(),this.validateFields()&&(this.saveReview(),this.closeModal())},validateFields:function(){return 0==this.new_review.professor_id?(this.$bvToast.toast("No Professor Entered",{title:"Required Professor  Name Not Entered",variant:"warning",solid:!0,toaster:"b-toaster-top-full"}),!1):0==this.new_review.course_id?(this.$bvToast.toast("No Course Entered",{title:"Required Course  Name Not Entered",variant:"warning",solid:!0,toaster:"b-toaster-top-full"}),!1):0!=this.new_review.rating||(this.$bvToast.toast("Enter Your Rating On The Scale Of 1-5 Stars",{title:"Required Rating Not Entered",variant:"warning",solid:!0,toaster:"b-toaster-top-full"}),!1)},saveReview:function(){var e=this;return new Promise((function(t,r){e.status="loading",P()({url:"/reviews",data:e.new_review,method:"POST"}).then((function(r){e.$emit("add-new-review",r.data),e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},resetModal:function(){this.new_review={professor_id:0,course_id:0,rating:0,comment:""},this.status=""},closeModal:function(){this.$bvModal.hide("review-modal")},loadProfessors:function(){var e=this;new Promise((function(t,r){e.status="loading",P()({url:"/professors",method:"GET"}).then((function(r){e.professors=r.data,e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},loadCourses:function(){var e=this;new Promise((function(t,r){e.status="loading",P()({url:"/courses",method:"GET"}).then((function(r){e.courses=r.data,e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))},setProfessor:function(e){this.new_review.professor_id=e.id},setCourse:function(e){this.new_review.course_id=e.id},createProfessor:function(e){var t=this;console.log(e),new Promise((function(r,s){t.status="loading",P()({url:"/professors",method:"POST",data:e}).then((function(e){t.professors.push(e.data),t.new_review.professor_id=e.data.id,t.status="success",r(e)})).catch((function(e){console.log(e),t.status="error",s(e)}))}))},createCourse:function(e){var t=this,r=new RegExp("^[A-Z]{3}[A-Z]?[1-9][0-9]{2}$");r.test(e.name)?new Promise((function(r,s){t.status="loading",P()({url:"/courses",method:"POST",data:e}).then((function(e){t.courses.push(e.data),t.new_review.course_id=e.data.id,t.status="success",r(e)})).catch((function(e){console.log(e),t.status="error",s(e)}))})):this.$bvToast.toast("Must Be Three/Four Uppercase Letters Followed By A Three-Digit Number",{title:"Invalid Course Name",variant:"warning",solid:!0})}},props:{propProfessor:Object,propCourse:Object},components:{StarRating:ge.a}},_e=we,ye=Object(u["a"])(_e,pe,ve,!1,null,null,null),Ce=ye.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.review.id+0,staticClass:"card"},[r("div",{key:e.review.id+1,staticClass:"card-text"},[r("div",{key:e.review.id+2,staticClass:"card-text"},[r("div",{staticClass:"card-header"},[e.hideProfessorName?e._e():r("p",{staticClass:"review_prof_name"},[r("b",[e._v("Professor: ")]),r("router-link",{attrs:{to:{name:"professor",params:{id:e.review.professor.id}}}},[r("b",[e._v(e._s(e.review.professor.name))])])],1),e.hideCourseName?e._e():r("p",{staticClass:"review_course_name"},[r("b",[e._v("Course: ")]),r("router-link",{attrs:{to:{name:"course",params:{id:e.review.course.id}}}},[r("b",[e._v(e._s(e.review.course.name))])])],1),r("h2",{staticClass:"rating_string"},[e._v(" Ranking: "+e._s(e.review.rating)+" / 5 ")])]),r("footer",{staticClass:"footer"},[0!=e.review.comment.length?r("p",{staticClass:"review_comment"},[r("b",[e._v("Student Comments:")]),e._v(" "),r("br"),e._v(" "+e._s(e.review.comment)+" ")]):r("p",{staticClass:"review_comment"},[r("b",[e._v("Student Comments:")]),e._v(" "),r("br"),e._v(" "),r("i",[e._v("No Comments Were Submitted")])]),r("div",{key:e.review.id+3,staticClass:"card-body"},[r("h2",{staticClass:"date_string"},[e._v(" "+e._s(e.convertDateStringToDateRepresentation(e.review.created)))])])])])])])},Pe=[],xe={name:"Review",methods:{convertDateStringToDateRepresentation:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")}},props:{hideProfessorName:Boolean,hideCourseName:Boolean,review:Object}},ke=xe,Re=(r("6dbc"),Object(u["a"])(ke,Se,Pe,!1,null,"d49cc640",null)),Oe=Re.exports,Ne={name:"ProfessorPage",components:{Navbar:ue,CreateReview:Ce,Review:Oe},data:function(){return{professor:null,professorName:"",professorCourses:[],professorReviews:[],profId:-1,loadedData:!1}},methods:{resetData:function(){this.professor=null,this.professorCourses=[],this.professorReviews=[],this.profId=-1,this.loadedData=!1},getRatingString:function(e){return"Rating: "+JSON.stringify(e)},convertDateStringToDateRepresentation:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")},displayReviewModal:function(){this.$bvModal.show("review-modal")},addNewReview:function(e){this.professorReviews.unshift(e)}},computed:{hasReviews:function(){return this.professorCourses.length>0}},mounted:function(){var e=this;this.profId=Number(this.$route.params.id),new Promise((function(t,r){e.status="loading",P()({url:"/professors/"+e.profId,method:"GET"}).then((function(r){console.log(r),"Not found."===r.detail?e.resetData():(e.professor=r.data.professor,e.professorName=e.professor.name,e.profId=e.professor.id,e.professorCourses=r.data.courses,e.professorReviews=r.data.reviews,e.loadedData=!0),e.status="success",t(r)})).catch((function(t){console.log(t),e.status="error",r(t)}))}))}},Te=Ne,De=(r("c5c7"),Object(u["a"])(Te,fe,me,!1,null,"3f3f7649",null)),$e=De.exports,Ee=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("Navbar"),r("CreateReview",{attrs:{propCourse:e.course},on:{"add-new-review":e.addNewReview}}),e.loadSuccess?r("div",[r("div",{staticClass:"jumbotron jumbotron-fluid"},[r("div",{staticClass:"container"},[r("h1",{staticClass:"courseTitle"},[r("b",[e._v(e._s(null!=this.course?this.course.name:""))])])])]),this.hasReviews?e._e():r("div",[r("h1",[e._v("No Reviews Have Been Created.")]),r("h1",[e._v(" Would You Like To "),r("div",{staticClass:"makeNewReview",on:{click:e.displayReviewModal}},[e._v("Make One?")])])]),this.hasReviews?r("div",[r("b-container",{staticClass:"courseInfoBody"},[r("b-row",[r("b-col",{attrs:{cols:"8"}},[r("h2",{attrs:{align:"left"}},[e._v("Average Rating: "+e._s(this.course.avg_rating)+" / 5")])]),r("b-col",{attrs:{cols:"4"}},[r("b-button",{directives:[{name:"b-modal",rawName:"v-b-modal.review-modal",modifiers:{"review-modal":!0}}],attrs:{pill:"",variant:"primary",size:"lg",align:"right"}},[r("b",[e._v("Add Review")])])],1)],1),r("div",[r("h2",{attrs:{align:"left"}},[e._v("Reviews:")]),e._l(this.courseReviews,(function(e){return r("Review",{key:e.id,attrs:{review:e,hideCourseName:""}})}))],2)],1)],1):e._e()]):e._e()],1)},Ae=[],je={name:"CoursePage",components:{Navbar:ue,CreateReview:Ce,Review:Oe},data:function(){return{status:"",course:null,courseName:"",courseProfessors:[],courseReviews:[],courseId:-1}},methods:{resetData:function(){this.status="",this.course=null,this.courseName="",this.courseProfessors=[],this.courseReviews=[],this.courseId=-1},convertDateStringToDateRepresentation:function(e){var t=new Date(e);return t.toLocaleDateString("en-US")},getRatingString:function(e){return"Rating: "+JSON.stringify(e)},displayReviewModal:function(){this.$bvModal.show("review-modal")},addNewReview:function(e){this.courseReviews.unshift(e),this.course.avg_rating=e.course.avg_rating},retrieveData:function(){var e=this;new Promise((function(t,r){e.status="loading",P()({url:"/courses/"+e.courseId,method:"GET"}).then((function(r){e.course=r.data.course,e.courseName=e.course.name,e.courseId=e.course.id,e.courseProfessors=r.data.professors,e.courseReviews=r.data.reviews,e.status="success",t(r)})).catch((function(t){e.status="error",r(t)}))}))}},computed:{loadSuccess:function(){return"success"===this.status},hasReviews:function(){return this.courseReviews.length>0}},mounted:function(){this.courseId=Number(this.$route.params.id),this.retrieveData()}},Le=je,Ie=(r("eb4c"),Object(u["a"])(Le,Ee,Ae,!1,null,"f6ec94f8",null)),Ue=Ie.exports,Me={status:"",token:localStorage.getItem("token")||"",user:{}},qe={isAuthenticated:function(e){return!!e.token},authStatus:function(e){return e.status},getUser:function(e){return e.user}},Be={register:function(e,t){var r=e.commit;return new Promise((function(e,s){r("auth_request"),P()({url:"/auth/register",data:t,method:"POST"}).then((function(t){var s=t.data.token,o=t.data.user;localStorage.setItem("token",s),P.a.defaults.headers.common["Authorization"]="Token "+s;var a=[s,o];r("auth_success",a),e(t)})).catch((function(e){r("auth_error"),localStorage.removeItem("token"),s(e)}))}))},login:function(e,t){var r=e.commit;return new Promise((function(e,s){r("auth_request"),P()({url:"/auth/login",data:{email:t.email,password:t.password},method:"POST"}).then((function(t){var s=t.data.token,o=t.data.user;localStorage.setItem("token",s),P.a.defaults.headers.common["Authorization"]="Token "+s;var a=[s,o];r("auth_success",a),e(t)})).catch((function(e){r("auth_error"),localStorage.removeItem("token"),s(e)}))}))},logout:function(e){var t=e.commit;return new Promise((function(e,r){t("logout"),P()({url:"/auth/logout",method:"POST"}).then((function(r){t("logout"),localStorage.removeItem("token"),delete P.a.defaults.headers.common["Authorization"],He.push("/login"),e(r)})).catch((function(e){t("auth_error"),localStorage.removeItem("token"),r(e)}))}))},fetch_user:function(e){var t=e.commit;return new Promise((function(e,r){P()({url:"/auth/user",method:"GET"}).then((function(r){var s=r.data;t("update_user",s),e(r)})).catch((function(e){t("auth_error"),localStorage.removeItem("token"),delete P.a.defaults.headers.common["Authorization"],He.push("/login"),r(e)}))}))},update_user:function(e,t){var r=e.commit;return new Promise((function(e,s){r("auth_request"),P()({url:"/auth/user",data:t,method:"POST"}).then((function(t){var s=t.data;r("update_user",s),e(t)})).catch((function(e){s(e)}))}))}},Fe={auth_request:function(e){e.status="loading"},auth_success:function(e,t){e.status="success",e.token=t[0],e.user=t[1]},auth_error:function(e){e.status="error",e.token="",e.user=""},logout:function(e){e.status="",e.token="",e.user=""},update_user:function(e,t){e.token=localStorage.getItem("token"),e.status="success",e.user=t}},ze={state:Me,getters:qe,mutations:Fe,actions:Be};s["default"].use(re["a"]);var Ge=new re["a"].Store({modules:{auth:ze}});s["default"].use(h["a"]);var Ye=new h["a"]({mode:"history",base:"/",routes:[{path:"/",name:"main",component:he,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:$,meta:{unauth:!0}},{path:"/professor/:id",name:"professor",component:$e,meta:{requiresAuth:!0},props:!0},{path:"/course/:id",name:"course",component:Ue,meta:{requiresAuth:!0},props:!0}]});Ye.beforeEach((function(e,t,r){if(e.matched.some((function(e){return e.meta.requiresAuth}))){if(Ge.getters.isAuthenticated)return void r();r("/login")}else r();e.matched.some((function(e){return e.meta.unauth}))&&Ge.getters.isAuthenticated&&r("/")}));var He=Ye,We=r("4a7a"),Je=r.n(We);r("6dfc");r("680f")("https://dev-api.professornot.com"),s["default"].config.productionTip=!1,s["default"].prototype.$http=P.a;var Ze=localStorage.getItem("token");Ze&&(s["default"].prototype.$http.defaults.headers.common["Authorization"]="Token "+Ze),Ge.getters.isAuthenticated&&!Ge.getters.getUser.name&&Ge.dispatch("fetch_user"),s["default"].use(d["a"]),s["default"].component("v-select",Je.a);var Ke=new s["default"]({router:He,store:Ge,render:function(e){return e(l)}}).$mount("#app");t["default"]=Ke},"5fe0":function(e,t,r){},6709:function(e,t,r){},"6dbc":function(e,t,r){"use strict";var s=r("4718"),o=r.n(s);o.a},"7f78":function(e,t,r){},"85ec":function(e,t,r){},c5c7:function(e,t,r){"use strict";var s=r("6709"),o=r.n(s);o.a},ca33:function(e,t,r){e.exports=r.p+"img/logotitle.36f8bfad.svg"},caa7:function(e,t,r){},cbfe:function(e,t,r){},d237:function(e,t,r){"use strict";var s=r("1cd2"),o=r.n(s);o.a},eb4c:function(e,t,r){"use strict";var s=r("7f78"),o=r.n(s);o.a},ec33:function(e,t,r){"use strict";var s=r("28cf"),o=r.n(s);o.a}});
//# sourceMappingURL=app.d7479e19.js.map